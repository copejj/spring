<div th:fragment="addressForm(index)" class="input-cont address-group-input-cont inputs-address-group address-row">
    <!-- Use a simple span or placeholder for JS to swap the display number -->
    <h4>New Address <span class="address-number">__INDEX_DISPLAY__</span></h4>

    <!-- We use the literal string __INDEX__ so JS can .replace() it -->
    <input type="hidden" name="addresses[__INDEX__].addressId" />

    <label class="input-label" th:for="|addresses__INDEX__.type|">Type</label>
    <select th:id="|addresses__INDEX__.type|" 
            name="addresses[__INDEX__].type" 
            class="input text-input">
        <option value=""> [ Select Type ] </option>
        <option th:each="t : ${allAddressTypes}" 
                th:value="${t.name}" 
                th:text="${t.name}">
        </option>
    </select>

    <label class="input-label" th:for="|addresses__INDEX__.street|">Street</label>
    <input autocomplete="address-line1"
		th:id="|addresses__INDEX__.street|" 
		name="addresses[__INDEX__].street" 
		type="text" class="input text-input" />

    <label class="input-label" th:for="|addresses__INDEX__.streetExt|">Suite/Apt</label>
    <input autocomplete="address-line2"
		th:id="|addresses__INDEX__.streetExt|" 
		name="addresses[__INDEX__].streetExt" 
		type="text" class="input text-input" />

    <label class="input-label" th:for="|addresses__INDEX__.city|">City</label>
    <input autocomplete="address-level2"
		th:id="|addresses__INDEX__.city|" 
		name="addresses[__INDEX__].city" 
		type="text" class="input text-input" />

    <label class="input-label" th:for="|addresses__INDEX__.stateAbbr|">State</label>
    <select autocomplete="address-level1 region"
		th:id="|addresses__INDEX__.stateAbbr|" 
        name="addresses[__INDEX__].stateAbbr" 
        class="input select-input">
        <option value=""> [ Select State ] </option>
		<option th:each="st : ${allStates}" 
			th:value="${st.abbr}" 
			th:data-full-name="${st.name}"
			th:text="${st.name}">Idaho</option>
		</option>
	</select>

    <label class="input-label" th:for="|addresses__INDEX__.zip|">Zip</label>
    <input autocomplete="postal-code"
		th:id="|addresses__INDEX__.zip|" 
		name="addresses[__INDEX__].zip" 
		type="text" class="input text-input" />

    <button type="button" class="btn-danger input submit-input" 
            onclick="this.closest('.address-row').remove()"> 
        Remove This Address 
    </button>
</div>
